<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Bir Bilene Danış - Frontend</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f3f4f6;
      margin: 0;
      padding: 2rem;
    }
    .container {
      max-width: 960px;
      margin: 0 auto;
      background: #ffffff;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.08);
      border: 1px solid #e5e7eb;
    }
    h1 {
      color: #4f46e5;
      margin-bottom: 0.25rem;
    }
    h2 {
      margin-top: 2rem;
      margin-bottom: 0.75rem;
      color: #111827;
    }
    p {
      color: #4b5563;
    }
    label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.25rem;
      color: #111827;
    }
    input, select {
      width: 100%;
      padding: 0.5rem 0.75rem;
      border-radius: 0.5rem;
      border: 1px solid #d1d5db;
      margin-bottom: 0.75rem;
      font-size: 0.95rem;
    }
    button {
      background: #4f46e5;
      color: #ffffff;
      border: none;
      border-radius: 999px;
      padding: 0.6rem 1.4rem;
      font-weight: 600;
      cursor: pointer;
    }
    button:hover {
      background: #4338ca;
    }
    .card {
      border-radius: 0.75rem;
      border: 1px solid #e5e7eb;
      padding: 1rem 1.25rem;
      margin-bottom: 0.75rem;
      background: #f9fafb;
    }
    .badge {
      display: inline-block;
      padding: 0.15rem 0.6rem;
      border-radius: 999px;
      font-size: 0.75rem;
      background: #eef2ff;
      color: #4f46e5;
      margin-left: 0.25rem;
    }
    .small {
      font-size: 0.8rem;
      color: #6b7280;
    }
    .row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1.5rem;
      margin-top: 1rem;
    }
    pre {
      background: #0f172a;
      color: #e5e7eb;
      padding: 1rem;
      border-radius: 0.75rem;
      overflow-x: auto;
      font-size: 0.8rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Bir Bilene Danış</h1>
      <p>Basit frontend arayüzü üzerinden backend API'ını test edebilirsiniz.</p>
      <p class="small">Backend varsayılan olarak <code>http://localhost:5000</code> adresinde çalışmaktadır.</p>
    </header>

    <section>
      <h2>Mentor Ara</h2>
      <div class="row">
        <div>
          <label for="alan">Uzmanlık Alanı</label>
          <input id="alan" placeholder="Örn: Yazılım Geliştirme" />

          <label for="dil">Dil (opsiyonel)</label>
          <select id="dil">
            <option value="">Farketmez</option>
            <option value="tr">Türkçe</option>
            <option value="en">İngilizce</option>
          </select>

          <button onclick="mentorAra()">Mentorları Listele</button>
        </div>
        <div>
          <div id="mentorSonuc"></div>
        </div>
      </div>
    </section>

    <section>
      <h2>Örnek Login ve Danışma Akışı (sadece iskelet)</h2>
      <p class="small">
        Bu bölüm, backend'deki diğer endpoint'lere örnek olacak şekilde basit bir iskelet gösterir.
        İsterseniz bunu geliştirip token kaydetme ve gerçek danışma gönderimi akışı ekleyebilirsiniz.
      </p>
      <pre>
POST /kullanici/giris
POST /danisma/gonder (Authorization: Bearer &lt;token&gt;)</pre>
    </section>
  </div>

  <script>
    async function mentorAra() {
      const alan = document.getElementById("alan").value.trim();
      const dil = document.getElementById("dil").value;
      const container = document.getElementById("mentorSonuc");
      container.innerHTML = "";

      if (!alan) {
        container.innerHTML = "<p class='small'>Lütfen bir uzmanlık alanı girin.</p>";
        return;
      }

      const params = new URLSearchParams({ alan });
      if (dil) params.append("dil", dil);

      try {
        const res = await fetch(`http://localhost:5000/mentor/ara?${params.toString()}`);
        const data = await res.json();

        if (!res.ok) {
          container.innerHTML = `<p class='small'>Hata: ${data.mesaj || "Bilinmeyen hata"}</p>`;
          return;
        }

        if (!Array.isArray(data) || data.length === 0) {
          container.innerHTML = "<p class='small'>Uygun mentor bulunamadı.</p>";
          return;
        }

        container.innerHTML = data
          .map(
            (m) => `
          <div class="card">
            <strong>${m.adSoyad}</strong>
            <span class="badge">${m.uzmanlikAlani}</span>
            <span class="badge">Dil: ${m.dil || "tr"}</span>
            <div class="small">
              Deneyim: ${m.deneyimYili || "-"} yıl • Puan: ${m.derecelendirme ?? "-"}
            </div>
            <p class="small" style="margin-top: 0.4rem;">${m.bioKisa || ""}</p>
          </div>
        `
          )
          .join("");
      } catch (err) {
        console.error(err);
        container.innerHTML = "<p class='small'>İstek gönderilirken bir hata oluştu.</p>";
      }
    }
  </script>
</body>
</html>




